<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>外部排序 | Cry On My Shoulder</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <meta name="keywords" content="Data-Structures" />
  
  
  
  
  <meta name="description" content="主存储器与外部存储器外存储器与内存储器相比,优点是:

价格较低
永久的存储能力

缺点:

访问外存储器上的数据比访问内存要慢5 ~ 6 个数量级

因此，要求我们在开发系统时必须考虑如何使外存访问次数达到最少。">
<meta property="og:type" content="article">
<meta property="og:title" content="外部排序">
<meta property="og:url" content="http://ucasfl.me/2017/08/08/External-Sort/index.html">
<meta property="og:site_name" content="Cry On My Shoulder">
<meta property="og:description" content="主存储器与外部存储器外存储器与内存储器相比,优点是:

价格较低
永久的存储能力

缺点:

访问外存储器上的数据比访问内存要慢5 ~ 6 个数量级

因此，要求我们在开发系统时必须考虑如何使外存访问次数达到最少。">
<meta property="og:updated_time" content="2017-09-02T04:38:29.067Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="外部排序">
<meta name="twitter:description" content="主存储器与外部存储器外存储器与内存储器相比,优点是:

价格较低
永久的存储能力

缺点:

访问外存储器上的数据比访问内存要慢5 ~ 6 个数量级

因此，要求我们在开发系统时必须考虑如何使外存访问次数达到最少。">
  
    <link rel="alternate" href="/atom.xml" title="Cry On My Shoulder" type="application/atom+xml">
  
  <link rel="icon" href="/css/images/favicon.ico">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
    
  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Yanone+Kaffeesatz%3A200%2C300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">

  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Oswald%3A300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">
  <link rel="stylesheet" href="/css/style.css">

  <script src="/js/jquery-3.1.1.min.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css" >
  <link rel="stylesheet" href="/css/fashion.css" >
  <link rel="stylesheet" href="/css/glyphs.css" >

</head>



  <body data-spy="scroll" data-target="#toc" data-offset="50">


  
  
  <div class="site-header-image">
    <img id="originBg" width="100%" alt="Hike News" src="">
  </div>

  <div id="header-blur" class="site-header-image blur" style="position: absolute; top:0; height: 207px; min-height: 207px; min-width: 100%;">
    <img id="blurBg" width="100%" style="top: 96%" alt="Hike News" src="">
  </div>

  <script>
        var imgUrls = "css/images/2.jpeg,https://source.unsplash.com/collection/954550/1920x1080,https://source.unsplash.com/collection/954550/1920x1081".split(",");
        var random = Math.floor((Math.random() * imgUrls.length ));
        if (imgUrls[random].startsWith('http') || imgUrls[random].indexOf('://') >= 0) {
          document.getElementById("originBg").src=imgUrls[random];
          document.getElementById("blurBg").src=imgUrls[random];
        } else {
          document.getElementById("originBg").src='/' + imgUrls[random];
          document.getElementById("blurBg").src='/' + imgUrls[random];
        }
    </script>




<header id="allheader" class="site-header" role="banner" 
   style="width: 100%; position: absolute; top:0; background: rgba(255,255,255,.8);"  >
  <div class="clearfix container">
      <div class="site-branding">

          <h1 class="site-title">
            
              <a href="/" rel="home" >
                <img style="margin-bottom: 10px;"  width="200px" height="200px" alt="Hike News" src=" /css/images/1.jppg">
              </a>
            
          </h1>
          
          
            <div class="site-description">高山仰止，景行行止</div>
          
            
          <nav id="main-navigation" class="main-navigation" role="navigation">
            <a class="nav-open">Menu</a>
            <a class="nav-close">Close</a>

            <div class="clearfix sf-menu">
              <ul id="main-nav" class="menu sf-js-enabled sf-arrows"  style="touch-action: pan-y;">
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/">Home</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/archives">Archives</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/about">About</a> </li>
                    
              </ul>
            </div>
          </nav>

      </div>
  </div>
</header>


  <div id="container">
    <div id="wrap">
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;"><article id="post-External-Sort" style="width: 66%; float:left;" class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" class="article-title" itemprop="name">
      外部排序
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/08/08/External-Sort/" class="article-date">
	  <time datetime="2017-08-08T04:53:19.000Z" itemprop="datePublished">August 8, 2017</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Data-Structures/">Data-Structures</a>
 
      
	<span id="busuanzi_container_page_pv">
	  本文总阅读量<span id="busuanzi_value_page_pv"></span>次
	</span>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="主存储器与外部存储器"><a href="#主存储器与外部存储器" class="headerlink" title="主存储器与外部存储器"></a>主存储器与外部存储器</h3><p>外存储器与内存储器相比,优点是:</p>
<ul>
<li>价格较低</li>
<li>永久的存储能力</li>
</ul>
<p>缺点:</p>
<ul>
<li>访问外存储器上的数据比访问内存要慢5 ~ 6 个数量级</li>
</ul>
<p>因此，要求我们在开发系统时必须考虑如何使外存访<br>问次数达到最少。</p>
<a id="more"></a>
<h3 id="磁盘"><a href="#磁盘" class="headerlink" title="磁盘"></a>磁盘</h3><ul>
<li>磁盘存储器通常称为直接存取设备,或随机存取设备,它访问外存上文件的任一记录的时间几乎相同。</li>
<li>磁盘存储器可以顺序存取,也可以随机存取。</li>
<li>每个记录盘面上有很多磁道,数据就存放在这些磁道上。它们在记录盘面上形成一个个同心圆。</li>
<li>每个记录盘面都有一个读写磁头。所有记录盘面的读写磁头都安装在同一个动臂上,随动臂向内或向外做径向移动,从一个磁道移到另一个磁道。</li>
<li>任一时刻,所有记录盘面的读写磁头停留在各个记录盘面的半径相同的磁道上。</li>
<li>各个记录盘面上半径相同的磁道合在一起称为柱面。一个磁道可以划分为若干段,称为扇区,一个扇区就是一次读写的最小数据量。这样,对磁盘存储器来说,从大到小的存储单位是:柱面号、盘片号、磁道号和扇区。</li>
<li>在磁盘组上一次读写的时间主要为:</li>
</ul>
<p>$$t<em>{io} = t</em>{seek} + t<em>{latency} +n\cdot t</em>{wm}$$<br>其中, $t<em>{seek}$ 平均寻查时间,是把磁头定位到要求柱面所需时间。$t</em>{latency}$ 平均等待时间,是将磁头定位到指定块所需时间。$t_{wm}$ 是传输一个扇区数据所需的时间。</p>
<ul>
<li>在磁盘组上一次读 / 写的时间主要花在寻找时间上。因此,在磁盘上存放信息时应将相关信息放在同一柱面或邻近柱面上,以求在读 / 写信息时尽量减少磁头来回移动的次数,以避免不必要的寻找时间。</li>
</ul>
<h3 id="外排序"><a href="#外排序" class="headerlink" title="外排序"></a>外排序</h3><p>当待排序的记录数目特别多时,在内存中不能一次处理,必须把它们以文件的形式存放于外存,排序时再把它们一部分一部分调入内存进行处理。这样,在排序过程中必须不断地在内存与外存之间传送数据。这种基于外部存储设备(或文件)的排序技术就是外排序。</p>
<h4 id="外排序的基本过程"><a href="#外排序的基本过程" class="headerlink" title="外排序的基本过程"></a>外排序的基本过程</h4><p>基于磁盘进行的排序多使用归并排序方法。其排序过程主要分为两个阶段:</p>
<ol>
<li>按可用内存大小,将外存上含 n 个记录的文件划分为若干长度为 $l$ 的段 , 用某种内排序方法对各段进行排序。经过排序的段叫做归并段 (Run) 。当它们生成后就被写到外存中去。</li>
<li>把1生成的初始归并段加以归并 , 一趟趟扩大归并段和减少归并段数 , 直至得到整个有序文件为止。</li>
</ol>
<ul>
<li><p>归并排序时间$t_{ES}$为：</p>
<p>$t<em>{ES}=m\times t</em>{IS}+d\times t<em>{IO}+S\times n\cdot t</em>{mg}$</p>
<p>其中，$t_{IS}$是得到一个初始段需要的内部排序时间；$m$为初始归并段的个数；</p>
<p>$t<em>{IO}$是进行一次外存读/写时间的均值；$d$为总的读/写次数；$n\cdot t</em>{mg}$是对$n$个记录进行内部归并所需时间；$S$为归并的趟数。</p>
</li>
<li><p>$t<em>{IO}$远远大于$t</em>{IS}$和$t_{mg}$，因此，要加快外排序的速度，应着眼于减小$d$ 。</p>
</li>
<li><p>增大归并路数 , 可减少归并趟数 , 从而减少总读写磁盘次数 d 。</p>
</li>
</ul>
<h3 id="K-路平衡归并"><a href="#K-路平衡归并" class="headerlink" title="K-路平衡归并"></a>K-路平衡归并</h3><p>做K-路平衡归并时，如果有m个初始归并段，相应的归并树有logkm+1(logkm上取整)层，需要归并logkm(上取整)趟。</p>
<h4 id="败者树"><a href="#败者树" class="headerlink" title="败者树"></a>败者树</h4><p>败者树是一棵正则的完全二叉树。其中</p>
<ul>
<li>每个叶结点存放各归并段在归并过程中当前参加比较的记录;</li>
<li>每个非叶结点记忆它两个子女结点中记录排序码大的结点 ( 即败者 ) ;</li>
</ul>
<p>因此,根结点中记忆树中当前记录排序码最小的结点 ( 最小记录 ) 。</p>
<ul>
<li>败者树与胜者树的区别在于一个选择了败者 ( 排序码大者)，一个选择了胜者(排序码小者)</li>
</ul>
<p><strong>K-路平衡归并排序算法</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MaxValue = ;	<span class="comment">//当作无穷大值使用</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">kwaymerge</span><span class="params">(Element *r, <span class="keyword">int</span> k)</span> </span>&#123;</div><div class="line">  <span class="keyword">int</span> i, q; </div><div class="line">  r = <span class="keyword">new</span> Element[k];		<span class="comment">//败者树中的k个记录</span></div><div class="line">  <span class="keyword">int</span> *key = <span class="keyword">new</span> <span class="keyword">int</span>[k+<span class="number">1</span>];	<span class="comment">//记录的排序码	</span></div><div class="line">  <span class="keyword">int</span> *loser = <span class="keyword">new</span> <span class="keyword">int</span>[k];	<span class="comment">//存放败者树</span></div><div class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; k; i++) &#123;           <span class="comment">//叶结点的值</span></div><div class="line">    InputRecord(r[i]);  key[i] = r[i].key; &#125;;</div><div class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; k; i++) loser[i] = k;</div><div class="line">  key[k] = -Maxvalue;		<span class="comment">//初始化	</span></div><div class="line">  <span class="keyword">for</span> (i = k<span class="number">-1</span>; i &gt; <span class="number">0</span>; i--) </div><div class="line">    adjust (key, loser, k, i);    <span class="comment">//从key[k-1]到key[0]调整形成败者树</span></div><div class="line">  <span class="keyword">while</span> (key[loser[<span class="number">0</span>]] != MaxValue) &#123;      <span class="comment">//选冠军</span></div><div class="line">    q = loser[<span class="number">0</span>];			 <span class="comment">//取当前最小记录</span></div><div class="line">    OutputRecord(r[q]);		 <span class="comment">//写到输出归并段</span></div><div class="line">    InputRecord(r[q]);		 <span class="comment">//读入下一个记录</span></div><div class="line">    key[q] = r[q].key;</div><div class="line">    adjust (key, loser, k, q); 	 <span class="comment">//从key[q]起调整</span></div><div class="line">  &#125;</div><div class="line">  Output end of run marker; 	 <span class="comment">//输出段结束标志</span></div><div class="line">  <span class="keyword">delete</span> []r;  </div><div class="line">  <span class="keyword">delete</span> []key;</div><div class="line">  <span class="keyword">delete</span> []loser;</div><div class="line">&#125;; </div><div class="line"><span class="comment">//败者树的调整算法</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">adjust</span> <span class="params">(<span class="keyword">int</span> key[]; <span class="keyword">int</span> loser[]; <span class="keyword">int</span> k; <span class="keyword">int</span> q)</span> </span>&#123;</div><div class="line"><span class="comment">// 从败者树某叶结点 key[q] 起到根进行比较 , 将最小</span></div><div class="line"><span class="comment">// key 记录所在归并段的段号记入 loser[0] 。</span></div><div class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> t = (k+q)/<span class="number">2</span>; t &gt; <span class="number">0</span>; t /= <span class="number">2</span>)</div><div class="line"><span class="comment">//t 是 q 的双亲</span></div><div class="line">    <span class="keyword">if</span> (key[loser[t]] &lt; key[q]) &#123;</div><div class="line"><span class="comment">// 败者记入 loser[t] ,胜者记入 q</span></div><div class="line">      <span class="keyword">int</span> temp = q; q = loser[t]; loser[t] = temp;</div><div class="line">    &#125;</div><div class="line"><span class="comment">//q 与 loser[t] 交换</span></div><div class="line">  loser[<span class="number">0</span>] = q;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<ul>
<li>每选出一个当前排序码最小的记录 , 就需要在将它送入输出缓冲区之后 , 从相应归并段的输入缓冲区中取出下一个参加归并的记录 , 替换已经取走的最小记录 , 再从叶结点到根结点 , 沿某一特定路径进行调整 , 将下一个排序码最小记录的归并段号调整到 loser[0] 中。</li>
<li>段结束标志 MaxNum 升入 loser[0], 排序完成。</li>
<li>归并路数 k 不是越大越好。归并路数 k 增大 , 相应需增加输入缓冲区个数。如果可供使用的内存空间不变 , 势必要减少每个输入缓冲区的容量 , 使内外存交换数据的次数增大。</li>
</ul>
<p><strong>初始归并段的生成</strong></p>
<ul>
<li>为减少读写磁盘次数 , 除增加归并路数 k 外 ,还可减少初始归并段个数 m 。在总记录数 n一定时 , 要减少 m , 必须增大初始归并段长度。</li>
<li>如果规定每个初始归并段等长 , 则此长度应根据生成它的内存工作区空间大小而定 , 因而 m的减少也就受到了限制。</li>
<li>为了突破这个限制 , 可采用败者树来生成初始归并段。在使用同样大内存工作区的情况下 ,可以生成平均比原来等长情况下大一倍的初始归并段 , 从而减少初始归并段个数。</li>
</ul>
<h3 id="最佳归并树"><a href="#最佳归并树" class="headerlink" title="最佳归并树"></a>最佳归并树</h3><p>归并树是描述归并过程的 m 叉树。因为每一次做 m路归并都需要有 m 个归并段参加 , 因此 , 归并树是只有度为 0 和度为 m 的结点的正则 m 叉树。</p>
<p>在归并树中：</p>
<ul>
<li>各叶结点代表参加归并的各初始归并段</li>
<li>叶结点上的权值即为该初始归并段中的记录个数</li>
<li>根结点代表最终生成的归并段</li>
<li>叶结点到根结点的路径长度表示在归并过程中的读记录次数</li>
<li>各非叶结点代表归并出来的新归并段</li>
<li>归并树的带权路径长度 WPL 即为归并过程中的总读记录数。因而,在归并过程中总的读写记录次数为 2*WPL 。</li>
</ul>
<p>不同的归并方案所对应的归并树的带权路径长度各不相同。为了使得总的读写次数达到最少 , 需要改变归并方案 , 重新组织归并树。可将 Huffman 树的思想扩充到 m 叉树的情形。在归并树中 , 让记录个数少的初始归并段最先归并 , 记录个数多的初始归并段最晚归并 , 就可建立总读写次数达到最少的最佳归并树。</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Data-Structures/">Data-Structures</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Data-Structures/">Data-Structures</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/09/02/Open-Source-Ruby-Books/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Neuer</strong>
      <div class="article-nav-title">
        
          通过开源书籍学习 Ruby 编程
        
      </div>
    </a>
  
  
    <a href="/2017/08/08/Inner-Sort/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Älter</strong>
      <div class="article-nav-title">内部排序</div>
    </a>
  
</nav>

  
</article>

<!-- Table of Contents -->

  <aside id="sidebar">
    <div id="toc" class="toc-article">
    <strong class="toc-title">Contents</strong>
    
      <ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#主存储器与外部存储器"><span class="nav-number">1.</span> <span class="nav-text">主存储器与外部存储器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#磁盘"><span class="nav-number">2.</span> <span class="nav-text">磁盘</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#外排序"><span class="nav-number">3.</span> <span class="nav-text">外排序</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#外排序的基本过程"><span class="nav-number">3.1.</span> <span class="nav-text">外排序的基本过程</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#K-路平衡归并"><span class="nav-number">4.</span> <span class="nav-text">K-路平衡归并</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#败者树"><span class="nav-number">4.1.</span> <span class="nav-text">败者树</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#最佳归并树"><span class="nav-number">5.</span> <span class="nav-text">最佳归并树</span></a></li></ol>
    
    </div>
  </aside>
</section>
        
      </div>

    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav> -->
    <footer id="footer" class="site-footer">
  

  <div class="clearfix container">
      <div class="site-info">
	      &copy; 2017 Cry On My Shoulder All Rights Reserved.
        
            <span id="busuanzi_container_site_uv">
              本站访客数<span id="busuanzi_value_site_uv"></span>人次  
              本站总访问量<span id="busuanzi_value_site_pv"></span>次
            </span>
          
      </div>
      <div class="site-credit">
        Theme by <a href="https://github.com/iTimeTraveler/hexo-theme-hipaper" target="_blank">hipaper</a>
      </div>
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");

    wrapdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";
    contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";


    <!-- headerblur min height -->
    
      var headerblur = document.getElementById("header-blur");
      headerblur.style.minHeight = window.getComputedStyle(document.getElementById("allheader"), null).height;
    
    
</script>
    
<div style="display: none;">
  <script src="https://s11.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
</div>

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>
<script src="/js/bootstrap.js"></script>
<script src="/js/main.js"></script>








	<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
	</script>






  </div>

  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js" async=""></script>
</body>
</html>
